/*
 * onScreen 0.0.0
 * Checks if matched elements are inside the viewport.
 * Built on Mon Mar 09 2015 13:11:43
 *
 * Copyright 2015 Silvestre Herrera <silvestre.herrera@gmail.com> and contributors, Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 * You can find a list of contributors at:
 * https://github.com/silvestreh/onScreen/graphs/contributors
*/

(function($){$.fn.onScreen=function(options){var params={container:window,direction:'vertical',toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:'data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==',debug:false};if(options!=='remove'){$.extend(params,options)}return this.each(function(){var self=this;var isOnScreen=false;var scrollTop;var scrollLeft;var $el=$(this);var $container;var containerHeight;var containerWidth;var containerBottom;var containerRight;var elHeight;var elWidth;var elTop;var elLeft;var containerIsWindow=$.isWindow(params.container);function remove(){$(self).off('scroll.onScreen resize.onScreen');$(window).off('resize.onScreen')};function verticalIn(){if(containerIsWindow){return elTop<containerBottom-params.tolerance&&scrollTop<(elTop+elHeight)-params.tolerance}else{return elTop<containerHeight-params.tolerance&&elTop>(-elHeight)+params.tolerance}}function verticalOut(){if(containerIsWindow){return elTop+(elHeight+params.tolerance)<scrollTop||elTop>containerBottom+params.tolerance}else{return elTop>containerHeight+params.tolerance||-elHeight-params.tolerance>elTop}}function horizontalIn(){if(containerIsWindow){return elLeft<containerRight-params.tolerance&&scrollLeft<(elLeft+elWidth)-params.tolerance}else{return elLeft<containerWidth-params.tolerance&&elLeft>(-elWidth)+params.tolerance}}function horizontalOut(){if(containerIsWindow){return elLeft+(elWidth-params.tolerance)<scrollLeft||elLeft>containerRight-params.tolerance}else{return elLeft>containerWidth-params.tolerance||-elWidth+params.tolerance>elLeft}}function directionIn(){if(isOnScreen){return false}if(params.direction==='horizontal'){return horizontalIn()}else{return verticalIn()}}function directionOut(){if(!isOnScreen){return false}if(params.direction==='horizontal'){return horizontalOut()}else{return verticalOut()}}function throttle(fn,timeout,ctx){var timer,args,needInvoke;return function(){args=arguments;needInvoke=true;ctx=ctx||this;if(!timer){(function(){if(needInvoke){fn.apply(ctx,args);needInvoke=false;timer=setTimeout(arguments.callee,timeout)}else{timer=null}})()}}}if(options==='remove'){remove();return}var checkPos=function(){if(!containerIsWindow&&$(params.container).css('position')==='static'){$(params.container).css('position','relative')}$container=$(params.container);containerHeight=$container.height();containerWidth=$container.width();containerBottom=$container.scrollTop()+containerHeight;containerRight=$container.scrollLeft()+containerWidth;elHeight=$el.outerHeight();elWidth=$el.outerWidth();if(containerIsWindow){var offset=$el.offset();elTop=offset.top;elLeft=offset.left}else{var position=$el.position();elTop=position.top;elLeft=position.left}scrollTop=$container.scrollTop();scrollLeft=$container.scrollLeft();if(params.debug){console.log('Container: '+params.container+'\n'+'Width: '+containerHeight+'\n'+'Height: '+containerWidth+'\n'+'Bottom: '+containerBottom+'\n'+'Right: '+containerRight);console.log('Matched element: '+($el.attr('class')!==undefined?$el.prop('tagName').toLowerCase()+'.'+$el.attr('class'):$el.prop('tagName').toLowerCase())+'\n'+'Left: '+elLeft+'\n'+'Top: '+elTop+'\n'+'Width: '+elWidth+'\n'+'Height: '+elHeight)}if(directionIn()){if(params.toggleClass){$el.addClass(params.toggleClass)}if($.isFunction(params.doIn)){params.doIn.call($el[0])}if(params.lazyAttr&&$el.prop('tagName')==='IMG'){var lazyImg=$el.attr(params.lazyAttr);if(lazyImg!==$el.prop('src')){$el.css({background:'url('+params.lazyPlaceholder+') 50% 50% no-repeat',minHeight:'5px',minWidth:'16px'});$el.prop('src',lazyImg).load(function(){$(this).css({background:'none'})})}}isOnScreen=true}else if(directionOut()){if(params.toggleClass){$el.removeClass(params.toggleClass)}if($.isFunction(params.doOut)){params.doOut.call($el[0])}isOnScreen=false}};if(window.location.hash){throttle(checkPos,50)}else{checkPos()}if(params.throttle){checkPos=throttle(checkPos,params.throttle)}$(params.container).on('scroll.onScreen resize.onScreen',checkPos);if(!containerIsWindow){$(window).on('resize.onScreen',checkPos)}if(typeof module==='object'&&module&&typeof module.exports==='object'){module.exports=jQuery}else{if(typeof define==='function'&&define.amd){define('jquery-onscreen',[],function(){return jQuery})}}})}})(jQuery);

/*
 * Class Animation
 * Just add class and animate it.
 * (c) 2015 Jun Takahashi
*/

(function($){var userAgent=navigator.userAgent.toLowerCase();var appVersion=navigator.appVersion.toLowerCase();$(window).on('load',function(){if(appVersion.indexOf("msie 8.")!=-1||appVersion.indexOf("msie 9.")!=-1){return false}exeOnscreen()});function exeOnscreen(){var tolerancePx=100;var classArr=[];var prefix='';if(userAgent.indexOf('safari')>=0){prefix='-webkit-'}if(userAgent.indexOf('chrome')>=0){prefix='-webkit-'}if(userAgent.indexOf('firefox')>=0){prefix='-moz-'}$('[class*="oT-"]').each(function(){var $this=$(this);var animationType='';var letterCnt=0;var durTotal=0;var dlyTotal=0;var dlyEach=0;var dlyIncr=0;classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('oT-')>=0){animationType=classArr[index].slice(3)}if(value.indexOf('dly-')>=0){dlyTotal=parseInt(classArr[index].slice(4))}if(value.indexOf('dur-')>=0){durTotal=parseInt(classArr[index].slice(4))}});$this.children().addBack().contents().each(function(){if(this.nodeType==3){$(this).replaceWith($(this).text().replace(/(\S)/g,'<span>$&</span>'))}});letterCnt=$this.text().length;dlyEach=dlyTotal;dlyIncr=Math.floor(durTotal/letterCnt);$this.find('span').each(function(){$(this).addClass('oS-'+animationType+' dly-'+dlyEach);dlyEach+=dlyIncr})});$('[class*="dly-"]').each(function(){var $this=$(this);var dly=0;classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('dly-')>=0){dly=classArr[index].slice(4)}});$this.css({'-webkit-animation-delay':dly+'ms','-moz-animation-delay':dly+'ms','animation-delay':dly+'ms'})});$('[class*="dur-"]').each(function(){var $this=$(this);var dur=0;classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('dur-')>=0){dur=classArr[index].slice(4)}});$this.css({'-webkit-animation-duration':dur+'ms','-moz-animation-duration':dur+'ms','animation-duration':dur+'ms'})});$('[class*="oS-"]').each(function(){var $this=$(this);var animationTypeOsc='';var animationTypeHvr='';var dly=0;var dur=0;setCommon($this);classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('oS-')>=0){animationTypeOsc=classArr[index].slice(3)}if(value.indexOf('oM-')>=0){animationTypeHvr=classArr[index].slice(3)}if(value.indexOf('dly-')>=0){dly=parseInt(classArr[index].slice(4))}});if($this.css('opacity')==0){$this.addClass('fadeType')}if($this.css('transform')!=='none'){$this.addClass('zoomType')}$this.onScreen({tolerance:tolerancePx,toggleClass:animationTypeOsc,doIn:function(){if(animationTypeOsc==animationTypeHvr){dur=$this.css(prefix+'animation-duration').slice(0,-1)*1000;setTimeout(function(){$this.removeClass(animationTypeOsc)},dur+dly)}},doOut:function(){if($this.hasClass('fadeType')){$this.css('opacity',0)}if($this.hasClass('zoomType')){$this.css({'-webkit-transform':'scale(0)','-moz-transform':'scale(0)','transform':'scale(0)'})}}})});$('[class*="oM-"]').each(function(i){var $this=$(this);var animationTypeHvr='';var animationTypeOsc='';var dly=0;var dur=0;setCommon($this);classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('oM-')>=0){animationTypeHvr=classArr[index].slice(3)}if(value.indexOf('oS-')>=0){animationTypeOsc=classArr[index].slice(3)}});dly=$this.css(prefix+'animation-delay').slice(0,-1)*1000;$('body').append('<i class="tmpElm '+animationTypeHvr+'"></i>');dur=$('.'+animationTypeHvr).css(prefix+'animation-duration').slice(0,-1)*1000;$('i.tmpElm').remove();$this.mouseenter(function(){var t=$this.offset().top;var b=t+$this.innerHeight();var l=$this.offset().left;var r=l+$this.innerWidth();$(document).on('mousemove.inRange'+i,function(e){if(!(t<=e.pageY&&e.pageY<=b&&l<=e.pageX&&e.pageX<=r)){$(document).off('mousemove.inRange'+i);$this.removeClass('mouseon')}});if($this.hasClass('animating')||$this.hasClass('mouseon')){return false}$this.css({'-webkit-animation-delay':'0ms','-moz-animation-delay':'0ms','animation-delay':'0ms','opacity':1,'-webkit-transform':'none','-moz-transform':'none','transform':'none'}).removeClass(animationTypeOsc).addClass(animationTypeHvr+' animating'+' mouseon');setTimeout(function(){$this.css({'-webkit-animation-delay':dly+'ms','-moz-animation-delay':dly+'ms','animation-delay':dly+'ms'}).removeClass(animationTypeHvr+' animating')},dur)})});$('[class*="oK-"]').each(function(i){var $this=$(this);var animationTypeHvr='';var animationTypeOsc='';var dly=0;var dur=0;setCommon($this);classArr=$this.attr('class').split(" ");$.grep(classArr,function(value,index){if(value.indexOf('oK-')>=0){animationTypeHvr=classArr[index].slice(3)}if(value.indexOf('oS-')>=0){animationTypeOsc=classArr[index].slice(3)}});dly=$this.css(prefix+'animation-delay').slice(0,-1)*1000;$('body').append('<i class="tmpElm '+animationTypeHvr+'"></i>');dur=$('.'+animationTypeHvr).css(prefix+'animation-duration').slice(0,-1)*1000;$('i.tmpElm').remove();$this.mouseenter(function(){var t=$this.offset().top;var b=t+$this.innerHeight();var l=$this.offset().left;var r=l+$this.innerWidth();$(document).on('mousemove.inRange'+i,function(e){if($this.hasClass('animating')||$this.hasClass('initialState')){return false}if(!(t<=e.pageY&&e.pageY<=b&&l<=e.pageX&&e.pageX<=r)){$(document).off('mousemove.inRange'+i);$this.removeClass(animationTypeHvr+' mouseon').addClass(animationTypeHvr+'-off animating');setTimeout(function(){$this.removeClass(animationTypeHvr+'-off animating').addClass('initialState')},dur)}});if($this.hasClass('animating')||$this.hasClass('mouseon')){return false}$this.css({'-webkit-animation-delay':'0ms','-moz-animation-delay':'0ms','animation-delay':'0ms','opacity':1,'-webkit-transform':'none','-moz-transform':'none','transform':'none'}).removeClass(animationTypeOsc+' initialState').addClass(animationTypeHvr+' animating'+' mouseon');setTimeout(function(){$this.css({'-webkit-animation-delay':dly+'ms','-moz-animation-delay':dly+'ms','animation-delay':dly+'ms'}).removeClass('animating')},dur)})});function setCommon($obj){if($obj.css('display')=='inline'){$obj.css('display','inline-block')}$obj.css({'-webkit-animation-fill-mode':'both','-moz-animation-fill-mode':'both','animation-fill-mode':'both'})}var winTop=$(window).scrollTop();$(window).scrollTop(winTop+1).scrollTop(winTop)}})(jQuery);